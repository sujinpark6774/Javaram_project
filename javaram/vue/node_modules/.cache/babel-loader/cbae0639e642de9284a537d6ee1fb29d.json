{"ast":null,"code":"import axios from \"axios\"; // import MailSend from './MailSend.vue'\n// import MailDetailPageVue from './MailDetailPage.vue';\n\nexport default {\n  name: \"MailPage\",\n  data: () => {\n    return {\n      receiveV: true,\n      sendV: false,\n      binV: false,\n      mailData: [],\n      pageCount: \"1\",\n      countMail: \"1\",\n      countoutMail: \"1\",\n      innum: 0,\n      outnum: 0\n    };\n  },\n  components: {// MailSend,\n    // MailDetailPageVue\n  },\n  props: {\n    pageNumber: {\n      Type: Number,\n      default: 1\n    }\n  },\n  methods: {\n    writeBtn() {\n      //window.open('./MailPage'); 메일 창 새로 띄우기\n      this.$router.push({\n        path: `/mailsend/`\n      });\n    },\n\n    receiveBtn() {\n      this.receiveV = true;\n      this.sendV = false;\n      this.binV = false;\n    },\n\n    sendBtn() {\n      this.receiveV = false;\n      this.sendV = true;\n      this.binV = false;\n    },\n\n    binBtn() {\n      this.receiveV = false;\n      this.sendV = false;\n      this.binV = true;\n    },\n\n    makeget() {\n      axios({\n        method: 'GET',\n        url: '/readMails',\n        params: {\n          user: sessionStorage.getItem('user_id'),\n          boxName: \"inbox\",\n          pageNumber: this.pageNumber\n        }\n      }).then(response => {\n        this.mailData = response.data;\n        this.innum = this.mailData.length;\n        this.countMail = response.data.messageCount;\n        this.pageCount = parseInt(this.countMail / 10 + 1);\n        console.log(response.data.messageCount);\n        console.log(this.mailData);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    outbox() {\n      axios({\n        method: 'GET',\n        url: '/readMails',\n        params: {\n          user: sessionStorage.getItem('user_id'),\n          boxName: \"sent\",\n          pageNumber: this.pageNumber\n        }\n      }).then(response => {\n        this.mailData = response.data;\n        this.outnum = this.mailData.length;\n        this.countoutMail = response.data.messageCount;\n        this.pageCount = parseInt(this.countoutMail / 10 + 1);\n        console.log(response.data.messageCount);\n        console.log(this.mailData);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    // countGet(){\n    //   axios({\n    //     method : 'GET',\n    //     url : '/countMails',\n    //     params: {\n    //       user : \"test\",\n    //       boxName : \"inbox\",\n    //     }\n    //     })\n    //     .then(response => {\n    //       this.countMail = response.data;\n    //       this.pageCount =  parseInt(this.countMail / 10 + 1);\n    //       console.log(response);\n    //     })\n    //     .catch(function (error) {\n    //       console.log(error);\n    //     }\n    //     );\n    // },\n    // countoutGet(){\n    //   axios({\n    //     method : 'GET',\n    //     url : '/countMails',\n    //     params: {\n    //       user : \"test\",\n    //       boxName : \"outbox\",\n    //     }\n    //     })\n    //     .then(response => {\n    //       this.countMail = response.data;\n    //       this.pageCount =  parseInt(this.countMail / 10 + 1);\n    //       console.log(response);\n    //     })\n    //     .catch(function (error) {\n    //       console.log(error);\n    //     }\n    //     );\n    // },\n    noticeCont() {\n      const urlid = new FormData();\n      urlid.append('urlid', this.mails_id);\n    },\n\n    /* eslint-disable */\n    MailClick(mailnum) {\n      this.$router.push(`/maildetailpage/${mailnum}`);\n    }\n\n  },\n\n  mounted() {\n    this.makeget();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","name","data","receiveV","sendV","binV","mailData","pageCount","countMail","countoutMail","innum","outnum","components","props","pageNumber","Type","Number","default","methods","writeBtn","$router","push","path","receiveBtn","sendBtn","binBtn","makeget","method","url","params","user","sessionStorage","getItem","boxName","then","response","length","messageCount","parseInt","console","log","catch","error","outbox","noticeCont","urlid","FormData","append","mails_id","MailClick","mailnum","mounted"],"sourceRoot":"","sources":["C:\\eclipse_portable\\WORKSPACE\\javaram\\vue\\src\\components\\mail\\page\\MailPage.vue"],"sourcesContent":["<template>\r\n\r\n<div class=\"container\">\r\n<!-- Button gruop -->\r\n<div class=\"btn-group btn-group\" role=\"group\">\r\n  <button class=\"btn btn-outline-secondary\" @click=\"makeget\">받은 메일함\r\n    <span class=\"badge bg-primary rounded-pill\">{{this.innum}}</span>\r\n  </button> \r\n  <button class=\"btn btn-outline-secondary\" @click=\"outbox\">보낸 메일함\r\n    <span class=\"badge bg-primary rounded-pill\">{{this.outnum}}</span>\r\n  </button> \r\n  <!--  <button class=\"btn btn-outline-secondary\" @click=\"binBtn\">휴지통\r\n    <span class=\"badge bg-primary rounded-pill\">14</span>\r\n  </button>  -->\r\n</div>\r\n\r\n<br>\r\n<!-- Received Mail list -->\r\n<div class=\"list-group\" v-show=\"receiveV\">\r\n  \r\n  <table class=\"table\">\r\n\r\n    <thead>\r\n        <tr>\r\n            <th scope=\"col\">Check</th>\r\n            <th scope=\"col\">No.</th>\r\n            <th scope=\"col\">Title</th>\r\n            <th scope=\"col\">Date</th>\r\n            <th scope=\"col\">Writer</th>\r\n        </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n      <tr v-for=\"(mail, index) in mailData.mails\" :key=\"index\" @click=\"MailClick(mail.messageNumber)\">\r\n        <!-- <th scope=\"row\">{{num - notice.idx + 1}}</th>  -->\r\n        <!-- <td>{{notice.notice_id}}</td> -->\r\n        <td v-on:click.stop=\"\"><input class=\"form-check-input me-1\" type=\"checkbox\" v-model = \"toggle\" true-value = \"yes\" false-value = \"no\" id = mail.messageNumber value= {{mail.title}}></td>\r\n        <td >{{countMail-index-(pageNumber-1)*10}}</td>\r\n        <td>{{mail.title}}</td>\r\n        <td>{{mail.time}}</td>\r\n        <td>{{mail.from}}</td>\r\n      </tr>\r\n    </tbody>    \r\n\r\n  </table>\r\n\r\n\r\n\r\n  <!-- Mail list row -->\r\n  <!-- <div class=\"row\">\r\n    <a href=\"#\" class=\"list-group-item list-group-item-action\">\r\n    <div v-for=\"(mail,index) in mailData.mails\" :key=\"index\">\r\n      {{mail.messageNumber}}\r\n      <input class=\"form-check-input me-1\" type=\"checkbox\" value=\"\"> 제목 : {{mail.title}}\r\n        <div class=\"d-flex flex-row-reverse bd-highlight\">발신인 : {{mail.from}} \r\n        </div>\r\n      </div>\r\n    </a>\r\n  </div> -->\r\n  <!-- Mail list row end -->\r\n\r\n</div>\r\n\r\n<!-- Sended Mail list -->\r\n<div class=\"list-group\" v-show=\"sendV\">\r\n  \r\n  <!-- Mail list row -->\r\n  <div class=\"row\">\r\n    <a href=\"#\" class=\"list-group-item list-group-item-action\">\r\n      <div class=\"col\">\r\n        <input class=\"form-check-input me-1\" type=\"checkbox\" value=\"\"> [공지]테스트용 보낸 메일함 이메일입니다.\r\n      </div>\r\n      <div class=\"col\">\r\n        <div class=\"d-flex flex-row-reverse bd-highlight\">보낸 사람 : 서동민 </div>\r\n      </div>\r\n    </a>\r\n  </div>\r\n  <!-- Mail list row end -->\r\n\r\n</div>\r\n\r\n<!-- Deleted Mail list -->\r\n<div class=\"list-group\" v-show=\"binV\">\r\n  \r\n  <!-- Mail list row -->\r\n  <div class=\"row\">\r\n    <a href=\"#\" class=\"list-group-item list-group-item-action\">\r\n      <div class=\"col\">\r\n        <input class=\"form-check-input me-1\" type=\"checkbox\" value=\"\"> [공지]테스트용 휴지통 이메일입니다.\r\n      </div>\r\n      <div class=\"col\">\r\n        <div class=\"d-flex flex-row-reverse bd-highlight\">보낸 사람 : 서동민 </div>\r\n      </div>\r\n    </a>\r\n  </div>\r\n  <!-- Mail list row end -->\r\n\r\n</div>\r\n\r\n<br>\r\n\r\n\r\n\r\n<!-- Delete Write Buttons -->\r\n<div class=\"d-flex flex-row-reverse bd-highlight\">\r\n  <button id=\"writeBtn\" @click=\"writeBtn\" class=\"btn btn-primary\">\r\n    메일쓰기\r\n  </button>\r\n\r\n  <!-- <button @click=\"MailSend\" id=\"deleteBtn\" class=\"btn btn-primary\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n      <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n    </svg>\r\n    \r\n    <component :is=\"selectedComponent\"></component>\r\n  </button> -->\r\n</div>\r\n\r\n<!-- 네비바 -->\r\n<nav aria-label=\"Page navigation example\" id=\"notice_pagination\" data-v-4f7d534a=\"\" data-v-f077e7ea=\"\">\r\n  <ul class=\"pagination\" data-v-4f7d534a=\"\">\r\n    <li v-for=\"i in pageCount\" :key=\"i\" class=\"page-item\" data-v-4f7d534a=\"\">\r\n      <a class=\"page-link\" v-bind:href=\"'/MailPage/'+ i\" data-v-4f7d534a=\"\">{{i}}</a>\r\n      </li>\r\n  </ul>\r\n</nav>\r\n\r\n</div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n// import MailSend from './MailSend.vue'\r\n// import MailDetailPageVue from './MailDetailPage.vue';\r\nexport default {\r\n  name: \"MailPage\",\r\n  \r\n\r\n  data:() => {\r\n      return {\r\n        receiveV: true,\r\n        sendV : false,\r\n        binV:false,\r\n        mailData : [],\r\n        pageCount : \"1\",\r\n        countMail : \"1\",\r\n        countoutMail : \"1\",\r\n        innum : 0,\r\n        outnum : 0,\r\n      }\r\n    },\r\n\r\n  components:{\r\n    // MailSend,\r\n    // MailDetailPageVue\r\n  },\r\n  props: {\r\n    pageNumber : {\r\n      Type : Number,\r\n      default : 1\r\n    }\r\n  },\r\n\r\n  methods:{\r\n    \r\n\r\n    writeBtn(){\r\n      //window.open('./MailPage'); 메일 창 새로 띄우기\r\n      this.$router.push({path: `/mailsend/`})\r\n    },\r\n\r\n    receiveBtn(){\r\n      this.receiveV = true\r\n      this.sendV = false\r\n      this.binV = false\r\n    },\r\n\r\n    sendBtn(){\r\n      this.receiveV = false\r\n      this.sendV = true\r\n      this.binV = false\r\n    },\r\n\r\n    binBtn(){\r\n      this.receiveV = false\r\n      this.sendV = false\r\n      this.binV = true\r\n    },\r\n\r\n    makeget(){\r\n      axios({\r\n        method : 'GET',\r\n        url : '/readMails',\r\n        params: {\r\n          user : sessionStorage.getItem('user_id'),\r\n          boxName : \"inbox\",\r\n          pageNumber : this.pageNumber\r\n        }\r\n        })\r\n        .then(response => {\r\n          this.mailData = response.data;\r\n          this.innum = this.mailData.length;\r\n          this.countMail = response.data.messageCount;\r\n          this.pageCount =  parseInt(this.countMail / 10 + 1);\r\n          console.log(response.data.messageCount);\r\n          console.log(this.mailData);\r\n\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        }\r\n        );\r\n    },\r\n\r\n    outbox(){\r\n      axios({\r\n        method : 'GET',\r\n        url : '/readMails',\r\n        params: {\r\n          user : sessionStorage.getItem('user_id'),\r\n          boxName : \"sent\",\r\n          pageNumber : this.pageNumber\r\n        }\r\n        })\r\n        .then(response => {\r\n          this.mailData = response.data;\r\n          this.outnum = this.mailData.length;\r\n          this.countoutMail = response.data.messageCount;\r\n          this.pageCount =  parseInt(this.countoutMail / 10 + 1);\r\n          console.log(response.data.messageCount);\r\n          console.log(this.mailData);\r\n\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        }\r\n        );\r\n    },\r\n\r\n    // countGet(){\r\n    //   axios({\r\n    //     method : 'GET',\r\n    //     url : '/countMails',\r\n    //     params: {\r\n    //       user : \"test\",\r\n    //       boxName : \"inbox\",\r\n    //     }\r\n    //     })\r\n    //     .then(response => {\r\n    //       this.countMail = response.data;\r\n    //       this.pageCount =  parseInt(this.countMail / 10 + 1);\r\n    //       console.log(response);\r\n    //     })\r\n    //     .catch(function (error) {\r\n    //       console.log(error);\r\n    //     }\r\n    //     );\r\n    // },\r\n\r\n    // countoutGet(){\r\n    //   axios({\r\n    //     method : 'GET',\r\n    //     url : '/countMails',\r\n    //     params: {\r\n    //       user : \"test\",\r\n    //       boxName : \"outbox\",\r\n    //     }\r\n    //     })\r\n    //     .then(response => {\r\n    //       this.countMail = response.data;\r\n    //       this.pageCount =  parseInt(this.countMail / 10 + 1);\r\n    //       console.log(response);\r\n    //     })\r\n    //     .catch(function (error) {\r\n    //       console.log(error);\r\n    //     }\r\n    //     );\r\n    // },\r\n\r\n    noticeCont(){\r\n        const urlid = new FormData()\r\n        urlid.append('urlid', this.mails_id)\r\n        \r\n    },\r\n    /* eslint-disable */\r\n    MailClick(mailnum){\r\n      this.$router.push(`/maildetailpage/${mailnum}`);\r\n    },\r\n  },\r\n  mounted(){\r\n    this.makeget();\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    tbody tr:hover {\r\n        background-color: rgb(238, 238, 238);\r\n    }\r\n\r\n    .container {\r\n      margin-left: 150px;\r\n    }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
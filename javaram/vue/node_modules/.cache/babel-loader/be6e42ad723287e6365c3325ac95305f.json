{"ast":null,"code":"import axios from 'axios';\nimport * as yup from \"yup\"; // import store from '../../../store/index.js'\n\nexport default {\n  data() {\n    return {\n      // userInfo : store.state.loginInfo\n      user_name: sessionStorage.getItem('user_name'),\n      user_id: sessionStorage.getItem('user_id'),\n      user_email: sessionStorage.getItem('user_email'),\n      update_pw_v: true,\n      update_email_v: true\n    };\n  },\n\n  methods: {\n    change_pw() {\n      this.update_pw_v = !this.update_pw_v;\n    },\n\n    change_email() {\n      this.update_email_v = !this.update_email_v;\n    },\n\n    update_pw() {\n      if (this.new_pw.length >= 6) {\n        axios.post('/changepw', {\n          user_id: sessionStorage.getItem('user_id'),\n          user_pw: this.new_pw\n        }).then(resopnse => {\n          if (resopnse.status == 200) {\n            alert(\"회원정보가 수정되었습니다.\");\n            this.$router.go();\n          }\n        });\n      } else {\n        alert(\"입력값을 확인해주세요.\");\n      }\n    },\n\n    update_email() {\n      if (!this.emailcheck(this.new_email) == \"False\") {\n        axios.post('/changeemail', {\n          user_id: sessionStorage.getItem('user_id'),\n          user_email: this.new_email\n        }).then(resopnse => {\n          if (resopnse.status == 200) {\n            sessionStorage.setItem('user_email', this.new_email);\n            alert(\"회원정보가 수정되었습니다.\");\n            this.$router.go();\n          }\n        });\n      } else {\n        alert(\"입력값을 확인해주세요.\");\n      }\n    },\n\n    emailcheck(email) {\n      email = yup.string().email(\"False\");\n      return email;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqDA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB,C,CACA;;AAEA,eAAe;AACXC,MAAI,GAAE;AACF,WAAO;AACH;AACAC,eAAQ,EAAIC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAFT;AAGHC,aAAM,EAAIF,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAHP;AAIHE,gBAAS,EAAIH,cAAc,CAACC,OAAf,CAAuB,YAAvB,CAJV;AAKHG,iBAAU,EAAI,IALX;AAMHC,oBAAa,EAAI;AANd,KAAP;AAQH,GAVU;;AAYXC,SAAO,EAAC;AACJC,aAAS,GAAE;AACP,WAAKH,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACH,KAHG;;AAIJI,gBAAY,GAAE;AACV,WAAKH,cAAL,GAAsB,CAAC,KAAKA,cAA5B;AACH,KANG;;AAOJI,aAAS,GAAE;AACP,UAAG,KAAKC,MAAL,CAAYC,MAAZ,IAAsB,CAAzB,EAA2B;AACvBf,aAAK,CAACgB,IAAN,CAAW,WAAX,EAAwB;AACpBV,iBAAM,EAAIF,cAAc,CAACC,OAAf,CAAuB,SAAvB,CADU;AAEpBY,iBAAM,EAAI,KAAKH;AAFK,SAAxB,EAGGI,IAHH,CAGQC,QAAO,IAAK;AAChB,cAAGA,QAAQ,CAACC,MAAT,IAAiB,GAApB,EAAwB;AACpBC,iBAAK,CAAC,gBAAD,CAAL;AACA,iBAAKC,OAAL,CAAaC,EAAb;AACJ;AACH,SARD;AASH,OAVD,MAUK;AACDF,aAAK,CAAC,cAAD,CAAL;AACJ;AACH,KArBG;;AAsBJG,gBAAY,GAAE;AACV,UAAG,CAAC,KAAKC,UAAL,CAAgB,KAAKC,SAArB,CAAD,IAAkC,OAArC,EAA6C;AACzC1B,aAAK,CAACgB,IAAN,CAAW,cAAX,EAA2B;AACvBV,iBAAM,EAAIF,cAAc,CAACC,OAAf,CAAuB,SAAvB,CADa;AAEvBE,oBAAS,EAAI,KAAKmB;AAFK,SAA3B,EAGGR,IAHH,CAGQC,QAAO,IAAI;AACf,cAAGA,QAAQ,CAACC,MAAT,IAAiB,GAApB,EAAwB;AACpBhB,0BAAc,CAACuB,OAAf,CAAuB,YAAvB,EAAqC,KAAKD,SAA1C;AACAL,iBAAK,CAAC,gBAAD,CAAL;AACA,iBAAKC,OAAL,CAAaC,EAAb;AACJ;AACH,SATD;AAUH,OAXD,MAWK;AACDF,aAAK,CAAC,cAAD,CAAL;AACJ;AAEH,KAtCG;;AAwCJI,cAAU,CAACG,KAAD,EAAO;AACbA,WAAI,GAAI3B,GAAG,CAAC4B,MAAJ,GAAaD,KAAb,CAAmB,OAAnB,CAAR;AACA,aAAOA,KAAP;AACJ;;AA3CI;AAZG,CAAf","names":["axios","yup","data","user_name","sessionStorage","getItem","user_id","user_email","update_pw_v","update_email_v","methods","change_pw","change_email","update_pw","new_pw","length","post","user_pw","then","resopnse","status","alert","$router","go","update_email","emailcheck","new_email","setItem","email","string"],"sourceRoot":"","sources":["C:\\eclipse_portable\\WORKSPACE\\javaram\\vue\\src\\components\\account\\component\\ProfileModal.vue"],"sourcesContent":["<template>\r\n    <div class=\"modal\" id=\"modalRegister\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog d-flex flex-column-reverse\">\r\n            <div class=\"p-2\">\r\n            <!-- 모달 창 전체 -->\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                            <li class=\"nav-item\" role=\"presentation\">\r\n                                <button class=\"nav-link active\" id=\"home-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#home\" type=\"button\"\r\n                                    role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">회원정보 변경</button>\r\n                            </li>\r\n                            <!-- <li class=\"nav-item\" role=\"presentation\">\r\n                                <button class=\"nav-link\" id=\"contact-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#contact\" type=\"button\"\r\n                                    role=\"tab\" aria-controls=\"contact\" aria-selected=\"false\">인증정보</button>\r\n                            </li> -->\r\n                        </ul>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"tab-content\" id=\"myTabContent\">\r\n                            <div class=\"row\">\r\n                                <h5> {{ user_name }} 님의 정보</h5>\r\n                            </div>\r\n                            <!-- 계정정보 tab -->\r\n                            <!-- <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> -->\r\n                            <div class=\"tab-pane fade show active modal-body\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"> \r\n                                <p style=\"display:block;\">아이디 {{ user_id }}</p>\r\n                                <p>비밀번호</p>\r\n                                <p><input type=\"password\" placeholder= \"******\" v-show=\"!update_pw_v\" v-model=\"new_pw\" @keyup.enter=\"update_pw\"></p>\r\n                                <button type=\"button\" class=\"btn btn-secondary btn-sm\" v-show=\"update_pw_v\" @click=\"change_pw\">수정</button>\r\n                                <button type=\"button\" class=\"btn btn-secondary btn-sm\" v-show=\"!update_pw_v\" @click=\"update_pw\">확인</button>\r\n                                <br />\r\n                                <p>이메일 {{ user_email }}</p>\r\n                                <button type=\"button\" class=\"btn btn-secondary btn-sm\" v-show=\"update_email_v\" @click=\"change_email\">수정</button>\r\n                                <p><input type=\"text\" placeholder=\"example@kt.com\" v-show=\"!update_email_v\" v-model=\"new_email\" @keyup.enter=\"update_email\">\r\n                                <button type=\"button\" class=\"btn btn-secondary btn-sm\" v-show=\"!update_email_v\" @click=\"update_email\">확인</button></p>\r\n                            </div>\r\n                            <!-- 인증정보 -->\r\n                            <!-- <div class=\"tab-pane fade\" id=\"contact\" role=\"tabpanel\" aria-labelledby=\"contact-tab\"> -->\r\n                            <div class=\"tab-pane fade modal-body\" id=\"contact\" role=\"tabpanel\" aria-labelledby=\"contact-tab\">\r\n                                <p>이메일 {{ user_email }}</p>\r\n                                <button type=\"button\" class=\"btn btn-secondary btn-sm\">수정</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport * as yup from \"yup\";\r\n// import store from '../../../store/index.js'\r\n\r\nexport default {\r\n    data(){\r\n        return {\r\n            // userInfo : store.state.loginInfo\r\n            user_name : sessionStorage.getItem('user_name'),\r\n            user_id : sessionStorage.getItem('user_id'),\r\n            user_email : sessionStorage.getItem('user_email'),\r\n            update_pw_v : true,\r\n            update_email_v : true\r\n        };\r\n    },\r\n\r\n    methods:{\r\n        change_pw(){\r\n            this.update_pw_v = !this.update_pw_v\r\n        },\r\n        change_email(){\r\n            this.update_email_v = !this.update_email_v\r\n        },\r\n        update_pw(){\r\n            if(this.new_pw.length >= 6){\r\n                axios.post('/changepw', {\r\n                    user_id : sessionStorage.getItem('user_id'),\r\n                    user_pw : this.new_pw\r\n                }).then(resopnse => {\r\n                    if(resopnse.status==200){\r\n                        alert(\"회원정보가 수정되었습니다.\")\r\n                        this.$router.go()\r\n                    }\r\n                })\r\n            }else{\r\n                alert(\"입력값을 확인해주세요.\")\r\n            }\r\n        },\r\n        update_email(){\r\n            if(!this.emailcheck(this.new_email)==\"False\"){\r\n                axios.post('/changeemail', {\r\n                    user_id : sessionStorage.getItem('user_id'),\r\n                    user_email : this.new_email\r\n                }).then(resopnse =>{\r\n                    if(resopnse.status==200){\r\n                        sessionStorage.setItem('user_email', this.new_email)\r\n                        alert(\"회원정보가 수정되었습니다.\")\r\n                        this.$router.go()\r\n                    }\r\n                })\r\n            }else{\r\n                alert(\"입력값을 확인해주세요.\")\r\n            }\r\n                \r\n        },\r\n\r\n        emailcheck(email){\r\n            email = yup.string().email(\"False\")\r\n            return email\r\n        }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n    h3{\r\n        text-align: left;\r\n    }\r\n\r\n    p {\r\n        display: inline-block;\r\n    }\r\n\r\n    .tab-pane{\r\n        margin-top: 20px;\r\n    }\r\n    \r\n    button {\r\n        margin-left: 10px;\r\n    }\r\n\r\n    img {\r\n        width: 140px;\r\n        max-height: 140px;\r\n        margin-bottom: 20px;\r\n        border-radius: 30%;\r\n    }\r\n    modal-body{\r\n        color : white;\r\n    }\r\n    #modal{\r\n        width: 120%\r\n    }\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
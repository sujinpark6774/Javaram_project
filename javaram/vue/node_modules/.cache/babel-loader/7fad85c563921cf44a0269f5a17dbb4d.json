{"ast":null,"code":"import axios from \"axios\";\nimport TodoCalendar from \"../component/TodoCalendar.vue\";\nimport TodoModal from \"../component/TodoModal.vue\";\nexport default {\n  name: \"TodoPage\",\n  components: {\n    TodoCalendar,\n    TodoModal\n  },\n\n  data() {\n    return {\n      attrs: [{\n        key: 'today',\n        highlight: 'blue',\n        dates: new Date()\n      }],\n      date: \"2022-03-25\",\n      user: \"sujin\",\n      todos: [],\n      todoshow: {}\n    };\n  },\n\n  methods: {\n    clickdateC(date) {\n      // Calendar에서 선택한 날짜 받음\n      this.date = date.id; // (user, 날짜 기준) todo 데이터 가져옴\n\n      axios.get(`/todo/detail?user=${this.user}&tododate=${this.date}`).then(response => {\n        console.log(response.data);\n        this.todos = response.data;\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n\n    // (user, 날짜, notice_no 기준) todo 데이터 가져옴\n    TodoDetail(todo_no) {\n      axios.get(`/todo/detail/show?user=${this.user}&todono=${todo_no}`).then(response => {\n        console.log(response.data);\n        this.todoshow = response.data[0];\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n\n    // Todo 삭제\n    TodoDelete(todo_no) {\n      axios.delete(\"/tododelete/\" + todo_no).then(response => {\n        if (response.status) {\n          alert(\"일정 삭제 성공\");\n          this.$router.push(\"/todopage\");\n        } else {\n          alert(\"일정 삭제 실패\");\n        }\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AAEA,eAAe;AACbC,MAAI,EAAE,UADO;AAGbC,YAAU,EAAE;AACVH,gBADU;AAEVC;AAFU,GAHC;;AAQbG,MAAI,GAAG;AACL,WAAO;AACLC,WAAK,EAAE,CAAC;AACNC,WAAG,EAAE,OADC;AAENC,iBAAS,EAAE,MAFL;AAGNC,aAAK,EAAE,IAAIC,IAAJ;AAHD,OAAD,CADF;AAMLC,UAAI,EAAE,YAND;AAOLC,UAAI,EAAE,OAPD;AAQLC,WAAK,EAAE,EARF;AASLC,cAAQ,EAAE;AATL,KAAP;AAWD,GApBY;;AAsBbC,SAAO,EAAE;AAEPC,cAAU,CAACL,IAAD,EAAO;AACf;AACA,WAAKA,IAAL,GAAUA,IAAI,CAACM,EAAf,CAFe,CAGf;;AACAjB,WAAI,CACDkB,GADH,CACQ,qBAAoB,KAAKN,IAAK,aAAY,KAAKD,IAAK,EAD5D,EAEGQ,IAFH,CAEQC,QAAO,IAAK;AAChBC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACf,IAArB;AACA,aAAKQ,KAAL,GAAaO,QAAQ,CAACf,IAAtB;AACD,OALH,EAMGkB,KANH,CAMSC,KAAK;AACVH,eAAO,CAACC,GAAR,CAAYE,CAAZ;AACD,OARH;AASD,KAfM;;AAiBP;AACAC,cAAU,CAACC,OAAD,EAAU;AAClB1B,WAAI,CACDkB,GADH,CACQ,0BAAyB,KAAKN,IAAK,WAAUc,OAAQ,EAD7D,EAEGP,IAFH,CAEQC,QAAO,IAAK;AAChBC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACf,IAArB;AACA,aAAKS,QAAL,GAAgBM,QAAQ,CAACf,IAAT,CAAc,CAAd,CAAhB;AACD,OALH,EAMGkB,KANH,CAMSC,KAAK;AACVH,eAAO,CAACC,GAAR,CAAYE,CAAZ;AACD,OARH;AAUD,KA7BM;;AA+BP;AACAG,cAAU,CAACD,OAAD,EAAU;AAClB1B,WAAI,CACD4B,MADH,CACU,iBAAeF,OADzB,EAEGP,IAFH,CAEQC,QAAO,IAAK;AAChB,YAAGA,QAAQ,CAACS,MAAZ,EAAmB;AACfC,eAAK,CAAC,UAAD,CAAL;AACA,eAAKC,OAAL,CAAaC,IAAb,CAAkB,WAAlB;AACJ,SAHA,MAGO;AACHF,eAAK,CAAC,UAAD,CAAL;AACJ;AACD,OATH,EASKP,KATL,CASWC,KAAK;AACZH,eAAO,CAACC,GAAR,CAAYE,CAAZ;AACD,OAXH;AAaD;;AA9CM;AAtBI,CAAf","names":["axios","TodoCalendar","TodoModal","name","components","data","attrs","key","highlight","dates","Date","date","user","todos","todoshow","methods","clickdateC","id","get","then","response","console","log","catch","e","TodoDetail","todo_no","TodoDelete","delete","status","alert","$router","push"],"sourceRoot":"","sources":["C:\\eclipse_portable\\WORKSPACE\\javaram\\vue\\src\\components\\todo\\page\\TodoPage.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"todo-wrap\">\r\n\r\n    <!-- Calendar -->\r\n    <div class=\"todo-calendar\">\r\n      <TodoCalendar @clickdateC=\"clickdateC\" />\r\n      <!-- <h6>todopagedateTest: {{ this.date }}</h6> -->\r\n    </div>\r\n\r\n\r\n    <div class=\"todo-sections\">\r\n\r\n      <!-- Todo List -->\r\n      <div class=\"todo-list-section\">\r\n\r\n        <div class=\"todo-list-tab\">\r\n\r\n          <h4>To-do</h4>\r\n\r\n          <button type=\"button\" class=\"addBtn btn btn-primary btn-sm\" data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#staticBackdrop\">추가</button>\r\n\r\n        </div>\r\n\r\n        <ul id=\"list-group\" v-for=\"(todo,idx) in todos\" :key=\"idx\" style=\"list-style: none;\">\r\n          <li class=\"list-item\" @click=\"TodoDetail(todo.todo_no)\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" value=\"todo.check_yn\" aria-label=\"...\">\r\n              {{ todo.title }}\r\n          </li>\r\n        </ul>\r\n\r\n      </div>\r\n\r\n      <hr>\r\n\r\n      <!-- Todo Detail -->\r\n      <div class=\"todo-detail-section\">\r\n        <div class=\"todo-detail-tab\">\r\n          <h4>Detail</h4>\r\n          <button type=\"button\" class=\"updateBtn btn btn-primary btn-sm\" data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#staticBackdrop\">수정</button>\r\n          <button type=\"button\" class=\"deleteBtn btn btn-danger btn-sm\" @click=\"TodoDelete(todoshow.todo_no)\">삭제</button>\r\n        </div>\r\n        \r\n        <div>\r\n          <h6>{{ todoshow.title }}</h6>\r\n          <br>\r\n          <p><strong>일시 : </strong>{{ todoshow.start_date }} - {{ todoshow.end_date }}</p>\r\n          <br>\r\n          <p><strong>메모</strong></p>\r\n          <div class=\"content\">\r\n              {{ todoshow.memo }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <todo-modal />\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport TodoCalendar from \"../component/TodoCalendar.vue\";\r\nimport TodoModal from \"../component/TodoModal.vue\";\r\n\r\nexport default {\r\n  name: \"TodoPage\",\r\n\r\n  components: {\r\n    TodoCalendar,\r\n    TodoModal,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      attrs: [{\r\n        key: 'today',\r\n        highlight: 'blue',\r\n        dates: new Date(),\r\n      },],\r\n      date: \"2022-03-25\",\r\n      user: \"sujin\",\r\n      todos: [],\r\n      todoshow: {},\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    \r\n    clickdateC(date) {\r\n      // Calendar에서 선택한 날짜 받음\r\n      this.date=date.id;\r\n      // (user, 날짜 기준) todo 데이터 가져옴\r\n      axios\r\n        .get(`/todo/detail?user=${this.user}&tododate=${this.date}`)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.todos = response.data;\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });    \r\n    },\r\n\r\n    // (user, 날짜, notice_no 기준) todo 데이터 가져옴\r\n    TodoDetail(todo_no) {\r\n      axios\r\n        .get(`/todo/detail/show?user=${this.user}&todono=${todo_no}`)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.todoshow = response.data[0];\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        }); \r\n      \r\n    },\r\n\r\n    // Todo 삭제\r\n    TodoDelete(todo_no) {\r\n      axios\r\n        .delete(\"/tododelete/\"+todo_no)\r\n        .then(response => {\r\n          if(response.status){\r\n              alert(\"일정 삭제 성공\")\r\n              this.$router.push(\"/todopage\")\r\n          } else {\r\n              alert(\"일정 삭제 실패\")\r\n          }\r\n        }).catch(e => {\r\n          console.log(e);\r\n        })\r\n\r\n    },\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n  .todo-wrap {\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n\r\n  .vc-container {\r\n    width: 50%;\r\n  }\r\n\r\n  .todo-sections {\r\n    flex: 1;\r\n    margin-left: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width:200px;\r\n  }\r\n\r\n  .todo-list-section {\r\n    flex: 1;\r\n  }\r\n\r\n  .todo-detail-section {\r\n    flex: 1;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .todo-list-tab {\r\n    position: relative;\r\n  }\r\n\r\n  #todo-list-id {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .addBtn {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n  }\r\n\r\n  .list-group {\r\n    height: 200px;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .todo-detail-tab {\r\n    position: relative;\r\n  }\r\n\r\n  .updateBtn {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 52px;\r\n  }\r\n\r\n  .deleteBtn {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n  }\r\n\r\n  .todo_detail {\r\n    height: 200px;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  /* modal 관련 style*/\r\n\r\n  label {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .modal-body {\r\n    margin : 0;\r\n  }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
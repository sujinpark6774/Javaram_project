{"ast":null,"code":"import ModalTemplate from \"../../common/component/modal/ModalTemplate.vue\";\nimport ModalRegist from \"../../common/component/modal/ModalRegist.vue\";\nimport axios from 'axios';\nexport default {\n  components: {\n    ModalTemplate,\n    ModalRegist\n  },\n\n  data() {\n    return {\n      searchV: false,\n      registV: false\n    };\n  },\n\n  methods: {\n    search() {\n      this.searchV = true;\n    },\n\n    regist() {\n      this.registV = true;\n    },\n\n    submit() {\n      axios.post('/loginCheck', {\n        user_id: this.user_id,\n        user_pw: this.user_pw\n      }).then(response => {\n        console.log(response.data);\n\n        if (!response.data) {\n          //로그인 실패 시\n          alert(\"아이디와 비밀번호를 확인해주세요.\");\n        } else {\n          //로그인 성공 시\n          sessionStorage.setItem('auth', true);\n          sessionStorage.setItem('user_name', response.data.user_name);\n          sessionStorage.setItem('user_id', response.data.user_id);\n          sessionStorage.setItem('user_email', response.data.user_email);\n          sessionStorage.setItem('access', response.data.access);\n          this.$router.push('/home');\n          this.$router.go();\n        }\n      });\n    },\n\n    togoHome() {\n      if (sessionStorage.getItem('auth')) {\n        this.$router.push('/home');\n      }\n    }\n\n  },\n\n  mounted() {\n    this.togoHome();\n  }\n\n};","map":{"version":3,"mappings":"AAmDA,OAAOA,aAAP,MAA0B,gDAA1B;AACA,OAAOC,WAAP,MAAwB,8CAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,YAAS,EAAI;AACXH,iBADW;AAEXC;AAFW,GADA;;AAMZG,MAAI,GAAE;AACJ,WAAM;AACJC,aAAM,EAAI,KADN;AAEJC,aAAM,EAAI;AAFN,KAAN;AAID,GAXW;;AAaZC,SAAO,EAAC;AACNC,UAAM,GAAE;AACN,WAAKH,OAAL,GAAe,IAAf;AACD,KAHK;;AAINI,UAAM,GAAE;AACN,WAAKH,OAAL,GAAe,IAAf;AACD,KANK;;AAUNI,UAAM,GAAE;AACNR,WAAK,CAACS,IAAN,CAAW,aAAX,EAA0B;AACvBC,eAAM,EAAI,KAAKA,OADQ;AAEvBC,eAAM,EAAI,KAAKA;AAFQ,OAA1B,EAGGC,IAHH,CAGQC,QAAO,IAAK;AACjBC,eAAO,CAACC,GAAR,CAAYF,QAAQ,CAACX,IAArB;;AAEA,YAAI,CAACW,QAAQ,CAACX,IAAd,EAAoB;AAAE;AACpBc,eAAK,CAAC,oBAAD,CAAL;AACD,SAFD,MAEK;AAAE;AACLC,wBAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+B,IAA/B;AACAD,wBAAc,CAACC,OAAf,CAAuB,WAAvB,EAAoCL,QAAQ,CAACX,IAAT,CAAciB,SAAlD;AACAF,wBAAc,CAACC,OAAf,CAAuB,SAAvB,EAAkCL,QAAQ,CAACX,IAAT,CAAcQ,OAAhD;AACAO,wBAAc,CAACC,OAAf,CAAuB,YAAvB,EAAqCL,QAAQ,CAACX,IAAT,CAAckB,UAAnD;AACAH,wBAAc,CAACC,OAAf,CAAuB,QAAvB,EAAiCL,QAAQ,CAACX,IAAT,CAAcmB,MAA/C;AACA,eAAKC,OAAL,CAAaC,IAAb,CAAkB,OAAlB;AACA,eAAKD,OAAL,CAAaE,EAAb;AACF;AAEF,OAlBD;AAmBD,KA9BK;;AAgCNC,YAAQ,GAAE;AACR,UAAGR,cAAc,CAACS,OAAf,CAAuB,MAAvB,CAAH,EAAkC;AAChC,aAAKJ,OAAL,CAAaC,IAAb,CAAkB,OAAlB;AACF;AACF;;AApCM,GAbI;;AAuDZI,SAAO,GAAE;AACP,SAAKF,QAAL;AACF;;AAzDY,CAAf","names":["ModalTemplate","ModalRegist","axios","components","data","searchV","registV","methods","search","regist","submit","post","user_id","user_pw","then","response","console","log","alert","sessionStorage","setItem","user_name","user_email","access","$router","push","go","togoHome","getItem","mounted"],"sourceRoot":"","sources":["C:\\eclipse_portable\\WORKSPACE\\javaram\\vue\\src\\components\\account\\component\\LoginComponent.vue"],"sourcesContent":["<template>\r\n\r\n<div class=\"wrap_login\">\r\n\r\n  <!-- Javaram IMG -->\r\n  <div class=\"banner\">\r\n    <img src=\"../../../assets/Javaram2.png\" alt=\"Banner_Img\" id=\"banner_img\">\r\n  </div>\r\n\r\n  <!-- Login -->\r\n  <div class=\"form-signin\">\r\n\r\n    <div class=\"form-floating\" id=\"id_detail\">\r\n      <input type=\"id\" class=\"form-control\" id=\"floatingInput\" placeholder=\"User ID\" v-model=\"user_id\" font-size=\"13px\"\r\n        @keyup.enter=\"submit\">\r\n    </div>\r\n\r\n    <div class=\"form-floating\" id=\"pwd_detail\">\r\n      <input type=\"password\" class=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" v-model=\"user_pw\"\r\n        @keyup.enter=\"submit\">\r\n    </div>\r\n\r\n    <button class=\"w-100 btn btn-md\" @click=\"submit\" id=\"login_button\" type=\"submit\">Log in</button>\r\n\r\n    <div class=\"d-grid gap-2 d-md-block\" id=\"buttons\">\r\n\r\n      <button class=\"w-47 btn btn-sm\" @click=\"search\" type=\"button\" data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#exampleModal\" id=\"button_search\">Search ID/PWD</button>\r\n\r\n      <!-- <button class=\"w-47 btn btn-sm\" @click=\"this.$router.push('/registerpage')\" type=\"button\"\r\n        id=\"button_regist\">Regist</button> -->\r\n      <button class=\"w-47 btn btn-sm\" @click=\"regist\" type=\"button\" data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#registModal\" id=\"button_regist\">Regist</button>\r\n\r\n      <div v-show=\"searchV\">\r\n        <ModalTemplate />\r\n      </div>\r\n\r\n      <div v-show=\"registV\">\r\n        <ModalRegist />\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport ModalTemplate from \"../../common/component/modal/ModalTemplate.vue\"\r\nimport ModalRegist from \"../../common/component/modal/ModalRegist.vue\"\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  components : {\r\n    ModalTemplate,\r\n    ModalRegist\r\n   },\r\n\r\n   data(){\r\n     return{\r\n       searchV : false,\r\n       registV : false,\r\n     }\r\n   },\r\n\r\n   methods:{\r\n     search(){\r\n       this.searchV = true\r\n     },\r\n     regist(){\r\n       this.registV = true\r\n     },\r\n\r\n\r\n\r\n     submit(){\r\n       axios.post('/loginCheck', {\r\n          user_id : this.user_id,\r\n          user_pw : this.user_pw\r\n       }).then(response => {\r\n          console.log(response.data)\r\n          \r\n          if( !response.data ){ //로그인 실패 시\r\n            alert(\"아이디와 비밀번호를 확인해주세요.\")\r\n          }else{ //로그인 성공 시\r\n            sessionStorage.setItem('auth', true)\r\n            sessionStorage.setItem('user_name', response.data.user_name)\r\n            sessionStorage.setItem('user_id', response.data.user_id)\r\n            sessionStorage.setItem('user_email', response.data.user_email)\r\n            sessionStorage.setItem('access', response.data.access)\r\n            this.$router.push('/home')\r\n            this.$router.go()\r\n          }\r\n          \r\n       })\r\n     },\r\n\r\n     togoHome(){\r\n       if(sessionStorage.getItem('auth')){\r\n         this.$router.push('/home')\r\n       }\r\n     }\r\n\r\n\r\n     \r\n   },\r\n\r\n   mounted(){\r\n     this.togoHome()\r\n   }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n  body {\r\n    background-color: #e9e9e9;\r\n  }\r\n    \r\n  .wrap_login {\r\n    min-width: min-content;\r\n    align-items: center;\r\n    padding: 20px;\r\n    position: absolute;\r\n    top: 32%;\r\n    left: 40%\r\n  }\r\n\r\n  .banner {\r\n    /* margin-left: 50px; */\r\n    width: 222px;\r\n  }\r\n\r\n  #banner_img {\r\n    margin: 10px;\r\n    width: 200px;\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n  }\r\n\r\n  .form-signin {\r\n    width: 222px;\r\n    /* margin: 20px 50px 50px 50px; */\r\n  }\r\n\r\n  #login_button {\r\n    margin-top: 8px;\r\n    font-size: 14px;\r\n    /* width: 222px; */\r\n    color: white;\r\n    background: #00C9BE;\r\n  }\r\n\r\n  #id_detail {\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n    text-align: left;\r\n    /* width: 222px; */\r\n  }\r\n\r\n  #pwd_detail {\r\n    margin-top: 10px;\r\n    text-align: left;\r\n    /* width: 222px; */\r\n  }\r\n\r\n  ::-webkit-input-placeholder {\r\n    font-size: 13px;\r\n  }\r\n\r\n  #buttons {\r\n    margin-top: 6px;\r\n    display: flex;\r\n  }\r\n\r\n  #button_search {\r\n    display: inline-block;\r\n    flex: 1;\r\n    margin-right: 6px;\r\n    width: 108px;\r\n    font-size: 11px;\r\n    background: #bbbbbb;\r\n    color: white;\r\n  }\r\n\r\n  #button_regist {\r\n    display: inline-block;\r\n    flex: 1;\r\n    width: 108px;\r\n    font-size: 12px;\r\n    background: #bbbbbb;\r\n    color: white;\r\n  }\r\n\r\n.body {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-top: 40px;\r\n    padding-bottom: 40px;\r\n    background-color: #f5f5f5;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}
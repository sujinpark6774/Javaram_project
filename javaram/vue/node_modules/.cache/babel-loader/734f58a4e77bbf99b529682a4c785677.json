{"ast":null,"code":"import TodoCalendar from \"../component/TodoCalendar.vue\";\nimport TodoModal from \"../component/TodoModal.vue\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport Swal from 'sweetalert2';\nexport default {\n  name: \"TodoPage\",\n  components: {\n    TodoCalendar,\n    TodoModal\n  },\n\n  data() {\n    return {\n      attrs: [{\n        key: 'today',\n        highlight: 'blue',\n        dates: new Date()\n      }],\n      date: \"\",\n      // user: \"sujin\",\n      user_id: sessionStorage.getItem('user_id'),\n      todos: [],\n      todoshow: {},\n      today_date: moment(String(new Date())).format('YYYY-MM-DD')\n    };\n  },\n\n  methods: {\n    clickdateC(date) {\n      // Calendar에서 선택한 날짜 받음\n      this.date = date.id; // (user, 날짜 기준) todo 데이터 가져옴\n\n      axios.get(`/todo/detail?user=${this.user_id}&tododate=${this.date}`).then(response => {\n        console.log(response.data);\n        this.todos = response.data;\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n\n    // (user, 날짜, notice_no 기준) todo 데이터 가져옴\n    TodoDetail(todo_no) {\n      axios.get(`/todo/detail/show?user=${this.user_id}&todono=${todo_no}`).then(response => {\n        console.log(response.data);\n        this.todoshow = response.data[0];\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n\n    // Todo 삭제\n    TodoDelete(todo_no) {\n      Swal.fire({\n        title: \"일정을 삭제 하시겠습니까?\",\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: '확인',\n        cancelButtonText: '취소',\n        showCloseButton: true,\n        showLoaderOnConfirm: true\n      }).then(result => {\n        if (result.value) {\n          // confirmButtonText의 확인 클릭 시 true 반환 \n          axios.delete(\"/tododelete/\" + todo_no).then(response => {\n            if (response.status) {\n              alert(\"일정 삭제 성공\");\n              this.$router.go();\n            } else {\n              alert(\"일정 삭제 실패\");\n            }\n          }).catch(e => {\n            console.log(e);\n          });\n        }\n      });\n    },\n\n    // Todo Detail 수정하기\n    TodoUpdate(todo_no) {\n      axios.put(\"/todoupdate/\" + todo_no, {\n        todo_no: todo_no,\n        title: this.title,\n        start_date: this.start_date,\n        end_date: this.end_date,\n        memo: this.memo\n      }).then(response => {\n        if (response.status) {\n          alert(\"일정 수정 성공\");\n          this.$router.go();\n        } else {\n          alert(\"일정 수정 실패\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["TodoCalendar","TodoModal","axios","moment","Swal","name","components","data","attrs","key","highlight","dates","Date","date","user_id","sessionStorage","getItem","todos","todoshow","today_date","String","format","methods","clickdateC","id","get","then","response","console","log","catch","e","TodoDetail","todo_no","TodoDelete","fire","title","type","showCancelButton","confirmButtonText","cancelButtonText","showCloseButton","showLoaderOnConfirm","result","value","delete","status","alert","$router","go","TodoUpdate","put","start_date","end_date","memo","err"],"sourceRoot":"","sources":["C:\\eclipse_portable\\WORKSPACE\\javaram\\vue\\src\\components\\todo\\page\\TodoPage.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"todo-wrap\">\r\n\r\n    <!-- Calendar -->\r\n    <div class=\"todo-calendar-wrap\">\r\n\r\n      <div class=\"todo-calendar-title-wrap\">\r\n        <h4 id=\"todo-calendar-title\">Calendar</h4>\r\n      </div>\r\n\r\n      <TodoCalendar id=\"TodoCalendar\" @clickdateC=\"clickdateC\" />\r\n    </div>\r\n\r\n\r\n    <div class=\"todo-sections\">\r\n\r\n      <!-- Todo List -->\r\n      <div class=\"todo-list-section\">\r\n\r\n        <div class=\"todo-list-wrap\">\r\n\r\n          <div class=\"todo-list-tab\">\r\n\r\n            <h4 id=\"todo-list-title\">List</h4>\r\n\r\n            <button type=\"button\" class=\"addBtn btn btn-primary btn-sm\" data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#staticBackdrop\">등록</button>\r\n\r\n          </div>\r\n\r\n        <hr>\r\n\r\n          <div class=\"todo-list-group\">\r\n            <ul id=\"list-group\" v-for=\"(todo,idx) in todos\" :key=\"idx\" style=\"list-style: none;\">\r\n              <li class=\"list-item\" @click=\"TodoDetail(todo.todo_no)\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"todo.check_yn\" aria-label=\"...\">\r\n                  {{ todo.title }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <!-- Todo Detail -->\r\n      <div class=\"todo-detail-section\">\r\n\r\n        <div class=\"todo-detail-wrap\">\r\n\r\n          <div class=\"todo-detail-tab\">\r\n            <h4 id=\"todo-detail-title\">Detail</h4>\r\n            <button type=\"button\" class=\"updateBtn btn btn-primary btn-sm\" @click=\"TodoUpdate(todoshow.todo_no)\">수정</button>\r\n            <button type=\"button\" class=\"deleteBtn btn btn-danger btn-sm\" @click=\"TodoDelete(todoshow.todo_no)\">삭제</button>\r\n          </div>\r\n\r\n        <hr>\r\n\r\n          <div id=\"todo-detail-content\">\r\n\r\n            <h6>Title</h6>\r\n            <div class=\"input-group mb-3\">\r\n                <input type=\"text\" class=\"form-control\" aria-label=\"Title\" aria-describedby=\"basic-addon1\" v-model=\"title\" :value=\"todoshow.title\">\r\n            </div>\r\n\r\n            <h6>Date</h6>\r\n            <div class=\"input-group mb-3\" id=\"todo-detail-content-title\">\r\n              <input type=\"text\" class=\"form-control\" aria-label=\"Start_Date\" v-model=\"start_date\" :value=\"todoshow.start_date\">\r\n              <span class=\"input-group-text\">~</span>\r\n              <input type=\"text\" class=\"form-control\" id=\"todo-detail-content-date\" aria-label=\"End_Date\" v-model=\"end_date\" :value=\"todoshow.end_date\">\r\n            </div>          \r\n\r\n            <h6>MEMO</h6>\r\n            <div class=\"input-group mb-3\">\r\n                <input type=\"text\" class=\"form-control\" id=\"todo-detail-content-memo\" aria-label=\"Memo\" aria-describedby=\"basic-addon1\" v-model=\"memo\" :value=\"todoshow.memo\">\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <todo-modal />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TodoCalendar from \"../component/TodoCalendar.vue\";\r\nimport TodoModal from \"../component/TodoModal.vue\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n  name: \"TodoPage\",\r\n\r\n  components: {\r\n    TodoCalendar,\r\n    TodoModal,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      attrs: [{\r\n        key: 'today',\r\n        highlight: 'blue',\r\n        dates: new Date(),\r\n      },],\r\n\r\n      \r\n      date: \"\",\r\n\r\n      // user: \"sujin\",\r\n      user_id : sessionStorage.getItem('user_id'),\r\n\r\n      todos: [],\r\n      todoshow: {},\r\n      today_date: moment(String(new Date())).format('YYYY-MM-DD'),\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    \r\n    clickdateC(date) {\r\n\r\n      // Calendar에서 선택한 날짜 받음\r\n      this.date=date.id;\r\n\r\n      // (user, 날짜 기준) todo 데이터 가져옴\r\n      axios\r\n        .get(`/todo/detail?user=${this.user_id}&tododate=${this.date}`)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.todos = response.data;\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });    \r\n    },\r\n\r\n    // (user, 날짜, notice_no 기준) todo 데이터 가져옴\r\n    TodoDetail(todo_no) {\r\n      axios\r\n        .get(`/todo/detail/show?user=${this.user_id}&todono=${todo_no}`)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          this.todoshow = response.data[0];\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        }); \r\n      \r\n    },\r\n\r\n    // Todo 삭제\r\n    TodoDelete(todo_no) {\r\n      Swal.fire({ \r\n        title: \"일정을 삭제 하시겠습니까?\",\r\n        type: 'warning', \r\n        showCancelButton: true, \r\n        confirmButtonText: '확인', \r\n        cancelButtonText: '취소', \r\n        showCloseButton: true, \r\n        showLoaderOnConfirm: true, \r\n      }).then((result) => { \r\n        if (result.value) { // confirmButtonText의 확인 클릭 시 true 반환 \r\n                axios\r\n                .delete(\"/tododelete/\"+todo_no)\r\n                .then(response => {\r\n                  if(response.status){\r\n                      alert(\"일정 삭제 성공\")\r\n                      this.$router.go()\r\n                  } else {\r\n                      alert(\"일정 삭제 실패\")\r\n                  }\r\n                }).catch(e => {\r\n                  console.log(e);\r\n                })\r\n        } \r\n      })\r\n\r\n\r\n\r\n    },\r\n\r\n    // Todo Detail 수정하기\r\n    TodoUpdate(todo_no) {\r\n      axios\r\n        .put(\"/todoupdate/\"+todo_no, {\r\n            todo_no: todo_no,\r\n            title: this.title,\r\n            start_date: this.start_date,\r\n            end_date: this.end_date,\r\n            memo: this.memo,\r\n        }).then(response => {\r\n            if(response.status){\r\n                alert(\"일정 수정 성공\")\r\n                this.$router.go()\r\n            } else {\r\n                alert(\"일정 수정 실패\")\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    },\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  ul {\r\n    padding-left: 0rem;\r\n  }\r\n\r\n  hr {\r\n    margin: 10px;\r\n  }\r\n\r\n  .todo-wrap {\r\n    display: flex;\r\n    flex-direction: row;\r\n    margin-left: 70px;\r\n  }\r\n\r\n  .todo-calendar-wrap {\r\n    width: 770px;\r\n    height: 850px;\r\n    /* margin-top: 55px; */\r\n    margin-left: 50px;\r\n    flex-basis: 60%;\r\n  }\r\n\r\n  .todo-calendar-title-wrap {\r\n    border-left-style: solid;\r\n    border-left-width: 5px;\r\n    border-left-color: #00C9BE;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  #todo-calendar-title {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .todo-sections {\r\n    flex: 1;\r\n    margin-left: 70px;\r\n    margin-top: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width:550px;\r\n    flex-basis: 40%;\r\n  }\r\n\r\n\r\n\r\n\r\n  /* To-Do list */\r\n  .todo-list-section {\r\n    width: 550px;\r\n    height: 300px;\r\n\r\n    border-radius: 8px;\r\n    border-style: solid;\r\n    border-width: 1.2px;\r\n    border-color: #cccccc;\r\n  }\r\n\r\n  .todo-list-wrap {\r\n    margin-left: 25px;\r\n    margin-right: 20px;\r\n    margin-top: 15px;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  .todo-list-tab {\r\n    position: relative;\r\n    border-left-style: solid;\r\n    border-left-width: 5px;\r\n    border-left-color: #00C9BE;\r\n  }\r\n\r\n  #todo-list-title{\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .addBtn {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n  }\r\n\r\n  .todo-list-group {\r\n    margin-top: 21px;\r\n    height: 200px;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  #list-group {\r\n    left: 0;\r\n  }\r\n\r\n\r\n\r\n\r\n  /* To-Do Detail */\r\n  .todo-detail-section {\r\n    margin-top: 20px;\r\n    width: 550px;\r\n    height: 435px;\r\n\r\n    border-radius: 8px;\r\n    border-style: solid;\r\n    border-width: 1.2px;\r\n    border-color: #cccccc;\r\n  }\r\n\r\n  .todo-detail-wrap {\r\n    margin-left: 25px;\r\n    margin-right: 20px;\r\n    margin-top: 15px;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  #todo-detail-content {\r\n    margin-top: 21px;\r\n    height: 360px;\r\n  }\r\n\r\n  .todo-detail-tab {\r\n    position: relative;\r\n    border-left-style: solid;\r\n    border-left-width: 5px;\r\n    border-left-color: #00C9BE;\r\n  }\r\n\r\n  #todo-detail-title {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .updateBtn {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 52px;\r\n  }\r\n\r\n  .deleteBtn {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n  }\r\n\r\n  #todo-detail-content-memo {\r\n    height: 150px;\r\n  }\r\n\r\n\r\n\r\n\r\n  /* modal 관련 style*/\r\n  label {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .modal-body {\r\n    margin : 0;\r\n  }\r\n\r\n\r\n\r\n\r\n  /* 삭제 POPUP 이벤트 관련 */\r\n  #swal2-title {\r\n    font-size: 1.0em;\r\n  }\r\n\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}